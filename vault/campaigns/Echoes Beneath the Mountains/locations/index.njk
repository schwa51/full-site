---
title: Locations
layout: layout.njk
publish: true
type:
theme: tor
campaign: echoes
eleventyNavigation:
  key: Locations
  parent: Echoes
---
<h1>Oh the places we will go!</h1>
{% set campaign = "echoes" %}
{% set section  = "locations" %}
{% set items = (collections.public_content or [])
  | byCampaign(campaign)
  | where("data.section", section)
  | sortBy("data.title") %}

{# compute the canonical section index URL this page lives at #}
{% set sectionIndexUrl = "/vault/campaigns/" + campaign + "/" + section + "/" %}
{% set currentPath = page.inputPath %}

<ul class="list">
  {% for it in items %}
    {# treat as 'index' if any of these match #}
    {% set isIndex = (it.url == sectionIndexUrl) 
                     or (it.page and it.page.fileSlug == "index")
                     or (it.inputPath == currentPath) %}
    {% if not isIndex %}
      <li><a href="{{ it.url }}">{{ it.data.title }}</a></li>
    {% endif %}
  {% endfor %}
</ul>

