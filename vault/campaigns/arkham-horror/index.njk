---
title: Arkham Horror
campaign: arkham-horror
layout: layout.njk
theme: main
tags:
  - overview
  - mystery
  - cozy-horror
publish: true
gm: false
eleventyNavigation:
  key: Arkham Horror
  parent: Home
  order: 1
---

{# Prefer the front matter slug, fall back to computed if present #}
{% set campaignKey = campaignSlug or campaign %}

{% set sections = ["locations","sessions","items","npcs","lore","maps","general","characters"] %}

<section class="cards">
{% set rows = (collections.public_content or [])
  | where("data.campaignSlug", campaignKey)
  | where("data.section", s)
%}


    {% set count = rows | length %}

    {% if count > 0 %}
      {% set sectionIndexUrl = "/vault/campaigns/" + campaignKey + "/" + s + "/" %}

      {# detect if an index page exists without using a filter #}
      {% set hasIndex = false %}
      {% for p in (collections.all or []) %}
        {% if p.url == sectionIndexUrl %}
          {% set hasIndex = true %}
        {% endif %}
      {% endfor %}

      <article class="card">
        <h3>
          {% if hasIndex %}
            <a href="{{ sectionIndexUrl }}">{{ s | capitalize }}</a>
          {% else %}
            {{ s | capitalize }}
          {% endif %}
        </h3>
      </article>
    {% endif %}
  {% endfor %}
</section>
