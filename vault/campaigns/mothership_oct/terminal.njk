---
title: Station Terminal
permalink: /terminal/
layout: false
eleventyExcludeFromCollections: true
---

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ title }}</title>
  <style>
    html,body{height:100%}
    body{margin:0;background:#000;color:#0f6;font-family:"Courier New",monospace;display:grid;place-items:center;overflow:hidden}
    .wrap{width:min(960px,92vw)}
  </style>
</head>
<body>
  <div class="wrap">

    {# 1) Feed /_data/ arrays into the terminal as JSON #}
    <script>
      const RAW_DOCKING   = {{ docking   | dump | safe }};
      const RAW_PERSONNEL = {{ personnel | dump | safe }};

      // Map your field names -> the component's expected shape
      const MAPPED_DOCKING = (RAW_DOCKING || []).map(d => ({
        berth:  d.BAY,
        ship:   d.VESSEL,
        eta:    d.ARRIVAL, // keep raw code, or format here if you want
        status: d.STATUS + (d.NEXT_SCHED ? ` / NEXT ${d.NEXT_SCHED}` : "")
      }));

      const MAPPED_PERSONNEL = (RAW_PERSONNEL || []).map(p => ({
        id:   p.id,
        name: p.name,
        role: p.position || p.role || "—"
      }));

      window.TERM_DATA = {
        docking:   MAPPED_DOCKING,
        personnel: MAPPED_PERSONNEL
      };
    </script>

    {# 2) Set variables BEFORE include (don’t pass with a comma) #}
    {% set initial = "menu" %}
    {% include "components/basic-terminal.njk" %}

  </div>
</body>
</html>
