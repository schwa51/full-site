---
title: It's a Magical World...
subtitle: ...let's go exploring!
layout: layout.njk
theme: main
publish: true
no_heading_border: true
eleventyNavigation:
  key: Home
  order: 10
---
{% set actives  = site.activeCampaigns or [] %}
{% set featured = site.featuredsystems or [] %}
{% set past = site.pastCampaigns or [] %}
{% set names    = systems or site.systems or {} %}
<div class="section-grid">
  <section class="section-card" data-section="active">
<h2>Active Campaigns</h2>
{% if actives | length %}
  <ul class="cards">
    {% for slug in actives %}
      {% set homePage = (collections.public_content
        | bysystem(slug)
        | where("data.isHome", true)
      )[0] %}
      {% set url = (homePage and homePage.url) or ("/vault/systems/" + (slug | slug) + "/") %}
      <li><a class="btn" href="{{ url }}">{{ campaigns[slug] or (slug | replace("-", " ") | titleize) }}</a></li>
    {% endfor %}
  </ul>
{% else %}
  <p class="muted">No active campaign set.</p>
{% endif %}
</section>

<section class="section-card" data-section="featured">
  <h2>Featured Games</h2>
  {% if featured | length %}
    <ul class="cards">
      {% for c in featured %}
        {% set homePage = (collections.public_content
          | bysystem(c)
          | where("data.isHome", true)
        )[0] %}
        {% set url = (homePage and homePage.url) or ("/vault/systems/" + (c | slug) + "/") %}
        <li><a href="{{ url }}">{{ campaigns[c] or (c | replace("-", " ") | titleize) }}</a></li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="muted">No featured games configured.</p>
  {% endif %}
</section>

<section class="section-card" data-section="past">
  <h2>Past Campaigns</h2>
  {% if past | length %}
    <ul class="cards">
      {% for c in past %}
        {% set homePage = (collections.public_content
          | bysystem(c)
          | where("data.isHome", true)
        )[0] %}
        {% set url = (homePage and homePage.url) or ("/vault/systems/" + (c | slug) + "/") %}
        <li><a href="{{ url }}">{{ campaigns[c] or (c | replace("-", " ") | titleize) }}</a></li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="muted">No past games configured.</p>
  {% endif %}
</section>
</div>

<section class="section-card" data-section="mtg">
  <h2>[Magic: The Gathering](/vault/mtg/magic)</h2>
  <ul class="list">
    <li><a href="/vault/mtg/pauper/">Pauper</a></li>
    <li><a href="/vault/mtg/commander/">Commander</a></li>
    <li><a href="/vault/mtg/cube/">Cube</a></li>
  </ul>
</section>
