---
title: Sam's RPG Archive
layout: layout.njk
theme: main
publish: true
eleventyNavigation:
  key: Home
  order: 0
---
<p>Explore the stories, maps, and characters from our campaigns:</p>

{% set active = site.activeCampaign %}
{% set featuredCampaigns = site.featuredCampaigns or [] %}
{% from "components/rails.njk" import tagRail %}
{% set base = collections.public_content or [] %}


<section>
  <h2>Active Campaign</h2>
  {% if active %}
    <p><a class="btn" href="/vault/campaigns/{{ active }}/">Go to {{ active | replace("-", " ") | capitalize }}</a></p>
    <div class="grid">
      {% for s in ["locations","sessions","items","npcs","lore","maps","general"] %}
        {% set count = (collections.campaign_content or [])
          | byCampaign(active)
          | where("data.section", s)
          | length %}
        <div class="pill"><a href="/vault/campaigns/{{ active }}/{{ s }}/">{{ s | capitalize }}</a> ({{ count }})</div>
      {% endfor %}
    </div>
  {% else %}
    <p class="muted">No active campaign set.</p>
  {% endif %}
</section>

<section>
  <h2>Featured Games</h2>
  <ul class="cards">
    {% for c in featuredCampaigns %}
      <li><a href="/vault/campaigns/{{ c }}/">{{ c | replace("-", " ") | capitalize }}</a></li>
    {% endfor %}
  </ul>
</section>

<p class="muted">manual count:
  {{ ((collections.public_content or []) | byTag("halloween_game") | sortFeatured).length }}
</p>
<p class="muted">macro count (with base):
  {{ (base | byTag("halloween_game") | sortFeatured | slice(0,12)).length }}
</p>


{{ tagRail("Halloween", "halloween_game", null, 12, base) }}

